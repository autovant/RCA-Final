@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply border-dark-border;
  }
  
  body {
    @apply antialiased bg-dark-bg-primary text-dark-text-primary;
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
    background-color: #0f172a;
    background-image:
      radial-gradient(1400px at 12% 8%, rgba(56, 189, 248, 0.12), transparent 60%),
      radial-gradient(980px at 85% 0%, rgba(14, 165, 233, 0.16), transparent 55%),
      linear-gradient(180deg, #0f172a 0%, #111827 40%, #0f172a 100%);
    background-attachment: fixed;
  }

  body::before {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='64' viewBox='0 0 64 64'%3E%3Cpath fill='%230a1128' fill-opacity='0.35' d='M5 3h2v2H5zM35 13h2v2h-2zM51 27h2v2h-2zM29 45h2v2h-2zM13 51h2v2h-2z'/%3E%3C/svg%3E");
    opacity: 0.4;
    mix-blend-mode: soft-light;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    @apply w-3 h-3;
  }

  ::-webkit-scrollbar-track {
    @apply bg-dark-bg-secondary;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-dark-border rounded-lg hover:bg-fluent-gray-600 transition-colors;
  }
}

@layer components {
  /* Fluent button styles */
  .btn {
    @apply px-4 py-2 rounded-md font-medium transition-all duration-200 
           focus:outline-none focus:ring-2 focus:ring-offset-2 
           disabled:opacity-50 disabled:cursor-not-allowed
           active:scale-95;
  }

  .btn-primary {
    @apply btn bg-gradient-to-r from-fluent-blue-500 to-fluent-info text-white shadow-[0_12px_30px_rgba(14,116,220,0.35)]
      hover:shadow-[0_16px_40px_rgba(56,189,248,0.4)] focus:ring-fluent-blue-500;
  }

  .btn-secondary {
    @apply btn border border-dark-border/60 bg-dark-bg-tertiary/70 text-dark-text-primary
      hover:border-fluent-blue-400/40 hover:bg-dark-bg-tertiary/80 focus:ring-fluent-info;
  }

  .btn-ghost {
    @apply btn bg-transparent text-dark-text-secondary hover:bg-dark-bg-tertiary/70 hover:text-dark-text-primary;
  }

  .btn-success {
    @apply btn bg-fluent-success text-white shadow-[0_10px_24px_rgba(0,200,83,0.35)] hover:shadow-[0_14px_36px_rgba(0,200,83,0.45)] focus:ring-fluent-success;
  }

  .btn-error {
    @apply btn bg-fluent-error hover:bg-red-700 text-white
           focus:ring-fluent-error;
  }

  /* Input styles */
  .input {
    @apply w-full px-3 py-2 rounded-md
           bg-dark-bg-secondary border border-dark-border
           text-dark-text-primary placeholder-dark-text-tertiary
           focus:outline-none focus:ring-2 focus:ring-fluent-blue-500 focus:border-transparent
           transition-all duration-200;
  }

  .input:hover {
    @apply border-fluent-gray-500;
  }

  /* Card styles with acrylic effect */
  .card {
    @apply relative overflow-hidden rounded-2xl border border-dark-border/60 bg-dark-bg-secondary/70 backdrop-blur-acrylic shadow-fluent transition-all duration-300;
  }

  .card::after {
    content: '';
    position: absolute;
    inset: 0;
    mix-blend-mode: overlay;
    background-image: radial-gradient(circle at top, rgba(148, 163, 213, 0.08), transparent 65%);
    pointer-events: none;
  }

  .card-hover {
    @apply card hover:-translate-y-0.5 hover:shadow-fluent-lg hover:border-fluent-blue-500/40;
  }

  .card-elevated {
    @apply relative overflow-hidden rounded-2xl border border-dark-border/50 bg-dark-bg-elevated/90 backdrop-blur-acrylic shadow-fluent-lg;
  }

  /* Status badges */
  .badge {
    @apply inline-flex items-center rounded-full px-3 py-1 text-[0.65rem] font-semibold uppercase tracking-[0.24em];
  }

  .badge-success {
    @apply badge border border-fluent-success/40 bg-fluent-success/20 text-green-200;
  }

  .badge-warning {
    @apply badge border border-fluent-warning/40 bg-fluent-warning/20 text-yellow-200;
  }

  .badge-error {
    @apply badge border border-fluent-error/40 bg-fluent-error/20 text-red-200;
  }

  .badge-info {
    @apply badge border border-fluent-info/40 bg-fluent-info/20 text-cyan-200;
  }

  .badge-neutral {
    @apply badge border border-dark-border/50 bg-dark-bg-tertiary/70 text-dark-text-tertiary;
  }

  /* Section headers */
  .section-header {
    @apply text-lg font-semibold text-dark-text-primary mb-4
           flex items-center gap-2;
  }

  /* Dividers */
  .divider {
    @apply border-t border-dark-border my-6;
  }

  /* Loading shimmer effect */
  .shimmer {
    @apply animate-shimmer bg-gradient-to-r from-transparent via-fluent-gray-700/20 to-transparent
           bg-[length:1000px_100%];
  }

  /* Acrylic panel */
  .acrylic {
    @apply bg-dark-bg-secondary/60 backdrop-blur-acrylic
           border border-dark-border/50
           shadow-acrylic;
  }

  /* Focus visible styles for accessibility */
  .focus-visible-ring {
    @apply focus-visible:outline-none focus-visible:ring-2 
           focus-visible:ring-fluent-blue-500 focus-visible:ring-offset-2
           focus-visible:ring-offset-dark-bg-primary;
  }

  /* Smooth hover transitions */
  .hover-lift {
    @apply transition-all duration-200 hover:-translate-y-1 hover:shadow-fluent-lg;
  }

  /* Icon button */
  .icon-button {
    @apply p-2 rounded-xl text-dark-text-secondary
           transition-all duration-200 focus-visible-ring active:scale-95
           hover:bg-dark-bg-tertiary/70 hover:text-dark-text-primary hover:shadow-[0_0_12px_rgba(56,189,248,0.25)];
  }

  .section-title {
    @apply text-base font-semibold text-dark-text-primary tracking-tight;
  }

  .hero-title {
    @apply text-4xl sm:text-5xl font-semibold leading-tight text-dark-text-primary;
  }

  .hero-subtitle {
    @apply text-base sm:text-lg text-dark-text-secondary max-w-2xl;
  }

  .badge-pill {
    @apply inline-flex items-center rounded-full border border-dark-border/60 bg-dark-bg-tertiary px-3 py-1 text-xs font-semibold uppercase tracking-wide text-dark-text-secondary;
  }

  .hero-bullet {
    @apply h-2 w-2 rounded-full bg-gradient-to-br from-fluent-blue-400 to-fluent-info shadow-[0_0_10px_rgba(56,189,248,0.6)];
  }

  .hero-metric {
    @apply text-xl font-semibold text-dark-text-primary;
  }

  .hero-orb {
    @apply h-96 w-96 rounded-full bg-gradient-to-br from-fluent-blue-500/20 via-fluent-info/10 to-transparent blur-3xl;
  }

  .hero-surface {
    @apply relative;
  }

  .workflow-step {
    @apply relative h-full rounded-2xl border border-dark-border/60 bg-dark-bg-tertiary/60 p-6 transition-all duration-200 hover:-translate-y-0.5 hover:border-fluent-blue-400/70 hover:shadow-fluent-lg;
  }

  .workflow-index {
    @apply absolute -top-3 left-6 rounded-full border border-fluent-blue-500/40 bg-dark-bg-primary px-3 py-1 text-xs font-semibold tracking-[0.2em] text-fluent-blue-300;
  }

  .command-item {
    @apply w-full rounded-2xl border border-dark-border/50 bg-dark-bg-tertiary/55 p-4 text-left transition-all duration-200 hover:-translate-y-0.5 hover:border-fluent-blue-400/80 hover:bg-dark-bg-tertiary/75 hover:shadow-fluent-lg focus-visible-ring;
  }

  .command-scroll {
    @apply max-h-[360px] overflow-y-auto pr-1;
  }

  .empty-state {
    @apply flex flex-col items-center justify-center rounded-xl border border-dashed border-dark-border/70 bg-dark-bg-tertiary/50 px-6 py-12 text-center;
  }

  .status-dot {
    @apply inline-block h-2 w-2 rounded-full bg-fluent-success;
  }

  .industry-card {
    @apply rounded-2xl border border-dark-border/60 bg-dark-bg-tertiary/60 p-5 transition-all duration-200 hover:-translate-y-0.5 hover:border-fluent-blue-400/60 hover:shadow-fluent-lg;
  }

  /* Navigation items */
  .nav-item {
    @apply flex items-center gap-2 rounded-xl px-4 py-2 text-sm font-semibold text-dark-text-secondary transition-all duration-200 hover:bg-dark-bg-tertiary/70 hover:text-dark-text-primary;
  }

  .nav-item-active {
    @apply nav-item border border-fluent-blue-500/30 bg-fluent-blue-500/20 text-fluent-blue-200 shadow-[0_0_18px_rgba(56,189,248,0.25)];
  }

  /* Code blocks */
  .code-block {
    @apply bg-dark-bg-primary border border-dark-border rounded-lg
           p-4 font-mono text-sm text-dark-text-secondary
           overflow-x-auto;
  }

  /* Alerts */
  .alert {
    @apply p-4 rounded-lg border flex items-start gap-3;
  }

  .alert-info {
    @apply alert bg-fluent-info/10 border-fluent-info/30 text-cyan-300;
  }

  .alert-success {
    @apply alert bg-fluent-success/10 border-fluent-success/30 text-green-300;
  }

  .alert-warning {
    @apply alert bg-fluent-warning/10 border-fluent-warning/30 text-yellow-300;
  }

  .alert-error {
    @apply alert bg-fluent-error/10 border-fluent-error/30 text-red-300;
  }

  /* Tables */
  .table-container {
    @apply overflow-x-auto rounded-lg border border-dark-border;
  }

  .table {
    @apply w-full text-sm text-left;
  }

  .table thead {
    @apply bg-dark-bg-elevated text-dark-text-secondary uppercase text-xs;
  }

  .table th {
    @apply px-6 py-3 font-semibold;
  }

  .table tbody tr {
    @apply border-t border-dark-border hover:bg-dark-bg-elevated/50 transition-colors;
  }

  .table td {
    @apply px-6 py-4;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  .glass {
    background: rgba(17, 24, 39, 0.72);
    -webkit-backdrop-filter: blur(22px);
    backdrop-filter: blur(22px);
    border: 1px solid rgba(59, 130, 246, 0.18);
  }

  .gradient-border {
    position: relative;
  }

  .gradient-border::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    padding: 1px;
    background: linear-gradient(135deg, #0078d4, #00b7c3);
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
  }

  /* Upload progress bar */
  .upload-progress {
    width: var(--upload-progress, 0%);
  }

  /* Fade-in animation for activity log entries */
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in {
    animation: fade-in 0.3s ease-out forwards;
    opacity: 0;
  }

  /* Bounce animation for completion checkmarks */
  @keyframes bounce-once {
    0%, 100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.2);
    }
  }

  .animate-bounce-once {
    animation: bounce-once 0.5s ease-in-out;
  }
}
